# ๐ซ ูุธุงู ุญุณุงุจ ุงููุชุฑุงุช ูู ุงููุณุฏุณุงุช

## ๐ ุงููุตู
ูุฐุง ุงููุธุงู ูููู ุจุญุณุงุจ ุงููุชุฑุงุช ุงููุณุญูุจุฉ ูู ุฌููุน ุงููุณุฏุณุงุช (Nozzles) ุงูุชุงุจุนุฉ ููู ุทููุจุฉ (Pump) ุจุดูู ุชููุงุฆูุ ุซู:
- ุชุณุฌูู ุงูุนูููุงุช ูู ุฌุฏูู Transactions
- ุฎุตู ุงููุชุฑุงุช ูู ุงูุฎุฒุงูุงุช (Tanks)
- ุญูุธ ุณุฌู ุงููุฑุงุกุงุช ููู ูุณุฏุณ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1๏ธโฃ ูู ุงููุงุฌูุฉ (Web Interface)
1. ุงุฐูุจ ุฅูู **ุญุณุงุจ ุงููุชุฑุงุช** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุงุฎุชุฑ ุงูุดููุช ุงููุทููุจ
3. ุงุถุบุท ุนูู **ุชูููุฐ ุงูุญุณุงุจ ุงูุขู**
4. ุณูุชู ุนุฑุถ ุชูุงุตูู ุงูุนูููุฉ
5. ููููู ุนุฑุถ ุงูุชูุฑูุฑ ุงูููุตู ูู ุฌุฏูู "ุขุฎุฑ ุงูุญุณุงุจุงุช"

### 2๏ธโฃ ูู ุณุทุฑ ุงูุฃูุงูุฑ (Command Line)

#### ุญุณุงุจ ูุชุฑุงุช ุดููุช ูุนูู:
```bash
php artisan nozzles:calculate {shift_id}
```

#### ุญุณุงุจ ูุชุฑุงุช ุขุฎุฑ ุดููุช ููุชูุญ:
```bash
php artisan nozzles:calculate
```

## ๐ ููู ูุนูู ุงููุธุงูุ

1. **ุฌูุจ ุงููุฑุงุกุงุช**: ููุฑุฃ ุงููุฑุงุกุฉ ุงูุญุงููุฉ (`meter_reading`) ูู ูู ูุณุฏุณ
2. **ุงูููุงุฑูุฉ**: ููุงุฑููุง ุจุขุฎุฑ ูุฑุงุกุฉ ูุณุฌูุฉ ูู ุฌุฏูู `nozzle_readings`
3. **ุงูุญุณุงุจ**: ูุญุณุจ ุงููุฑู (ุงููุชุฑุงุช ุงููุณุญูุจุฉ)
4. **ุงูุชุณุฌูู**: 
   - ูุญูุธ ุงููุฑุงุกุฉ ุงูุฌุฏูุฏุฉ ูู `nozzle_readings`
   - ูุฌูุน ูู ุงููุณุฏุณุงุช ุงูุชุงุจุนุฉ ูููุณ ุงูุทููุจุฉ
   - ููุดุฆ ุนูููุฉ (Transaction) ุจุฅุฌูุงูู ุงููุชุฑุงุช
5. **ุงูุชุญุฏูุซ**: ูุฎุตู ุงููุชุฑุงุช ูู ุงูุฎุฒุงู ููุญุฏุซ `current_level` ู `liters_drawn`

## ๐๏ธ ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

### `nozzle_readings`
ูุญูุธ ุณุฌู ูู ูุฑุงุกุฉ:
- `nozzle_id`: ุงููุณุฏุณ
- `shift_id`: ุงูุดููุช
- `previous_reading`: ุงููุฑุงุกุฉ ุงูุณุงุจูุฉ
- `current_reading`: ุงููุฑุงุกุฉ ุงูุญุงููุฉ
- `liters_dispensed`: ุงููุชุฑุงุช ุงููุณุญูุจุฉ
- `reading_date`: ุชุงุฑูุฎ ุงููุฑุงุกุฉ

### `transactions`
ูุชู ุฅูุดุงุก ุนูููุฉ ููู ุทููุจุฉ ุชุญุชูู ุนูู:
- `cash_liters`: ุฅุฌูุงูู ุงููุชุฑุงุช ุงููุณุญูุจุฉ ูู ูู ุงููุณุฏุณุงุช
- `total_amount`: ุงููุจูุบ ุงูุฅุฌูุงูู
- `notes`: ููุงุญุธุฉ "ุญุณุงุจ ุชููุงุฆู ูู ุงููุณุฏุณุงุช"

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช

### ุฌุฏููุฉ ุชููุงุฆูุฉ (ุงุฎุชูุงุฑู)
ููููู ุฌุฏููุฉ ุงูุญุณุงุจ ููุนูู ุชููุงุฆูุงู ูู ุณุงุนุฉ ูุซูุงู:

ูู ููู `app/Console/Kernel.php`:
```php
protected function schedule(Schedule $schedule)
{
    $schedule->command('nozzles:calculate')->hourly();
}
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุฑุงุกุฉ ุงูุฃููู**: ุฅุฐุง ูู ููู ููุงู ูุฑุงุกุฉ ุณุงุจูุฉุ ูุนุชุจุฑ ุงููุธุงู ุงููุฑุงุกุฉ ุงูุณุงุจูุฉ = 0
2. **ุงูุดููุช ุงูููุชูุญ**: ุนูุฏ ุนุฏู ุชุญุฏูุฏ shift_idุ ูุณุชุฎุฏู ุงููุธุงู ุขุฎุฑ ุดููุช ููุชูุญ
3. **ุงูุฃูุงู**: ุงูุนูููุฉ ุชุชู ุฏุงุฎู Transaction ูุถูุงู ุนุฏู ููุฏุงู ุงูุจูุงูุงุช
4. **ุงูุชูุงุฑูุฑ**: ูููู ุนุฑุถ ุชูุฑูุฑ ููุตู ููู ุนูููุฉ ุญุณุงุจ

## ๐ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

- `show tanks`: ูููุตูู ุฅูู ุตูุญุฉ ุญุณุงุจ ุงููุชุฑุงุช

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงููุ ุชุญูู ูู:
1. ุงููุฑุงุกุงุช ุงูุญุงููุฉ ูููุณุฏุณุงุช (`meter_reading`)
2. ูุฌูุฏ ุดููุช ููุชูุญ
3. ุงุฑุชุจุงุท ุงููุณุฏุณุงุช ุจุงูุทููุจุงุช ุจุดูู ุตุญูุญ
4. ุงุฑุชุจุงุท ุงูุทููุจุงุช ุจุงูุฎุฒุงูุงุช
